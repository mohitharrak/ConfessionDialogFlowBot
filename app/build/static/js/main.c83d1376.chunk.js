(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){e.exports=n(56)},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(25),o=n.n(r),c=(n(51),n(52),n(5)),i=n(10),l=n(9),u=n(6),m=n(8),h=(n(53),n(18)),d={Incoming:0,Outgoing:1},f=n(86),g=n(89),b=n(83),p=n(91),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"_renderMessage",value:function(){}},{key:"render",value:function(){return a.createElement("div",{className:"ms-Grid-col ms-sm12"},this.props.message.direction==d.Incoming?a.createElement(f.a,{style:{backgroundColor:"#f4f7f9",float:"left",width:"100%",margin:10}},a.createElement(g.a,null,a.createElement(b.a,{activity:"0 minutes ago",people:[{name:this.props.message.member.username,profileImageSrc:""}]}),a.createElement(p.a,{className:"message-box-text",title:this.props.message.text,showAsSecondaryTitle:!0}))):a.createElement(f.a,{style:{backgroundColor:"#f4f9f8",float:"right",width:"100%",margin:10}},a.createElement(g.a,null,a.createElement(b.a,{activity:"10 minutes ago",people:[{name:"Me",profileImageSrc:""}]}),a.createElement(p.a,{title:this.props.message.text,showAsSecondaryTitle:!0}))))}}]),t}(a.Component),O=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"_renderMessage",value:function(e){return a.createElement(v,{message:e})}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"ms-Grid-row"},this.props.messages.map(function(t){return e._renderMessage(t)}))}}]),t}(a.Component),j=(n(55),n(84)),y=n(82),E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={text:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState({text:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({text:""}),this.props.onSendMessage(this.state.text)}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"ms-Grid-row"},a.createElement("div",{className:"ms-Grid-col ms-sm12"},a.createElement("div",{style:{float:"left",width:"calc(100% - 80px)"}},a.createElement(j.a,{autoFocus:!0,onChange:function(t){return e.onChange(t)},value:this.state.text,type:"multiline",placeholder:"Enter your message and press ENTER"})),a.createElement(y.a,{onClick:this.onSubmit.bind(this),text:"Send"})))}}]),t}(a.Component),w=new(n(42).a)({accessToken:"ba8b1e5dad804cbfbd1bd9d1fcc08991"}),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSendMessage=function(e){var t=n.state.messages;t.push({text:e,member:n.state.member,direction:d.Outgoing}),n.setState({messages:t}),w.textRequest(e).then(n._handleQueryResponse.bind(Object(h.a)(Object(h.a)(n)))).catch(function(e){console.log(e)})},w.eventRequest("Welcome").then(n._handleQueryResponse.bind(Object(h.a)(Object(h.a)(n)))).catch(function(e){alert("error"),console.log(e)}),n.state={messages:[],member:{username:"Me"}},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"_showMessage",value:function(e){var t=this.state.messages;t.push(e),this.setState({messages:t})}},{key:"_handleQueryResponse",value:function(e){var t=this;e.result&&e.result.fulfillment&&e.result.fulfillment.messages&&e.result.fulfillment.messages.forEach(function(e){if(4==e.type){console.log(e);var n=e.payload;n.member={username:"Confession Bot"},n.direction=d.Incoming,t._showMessage(n)}})}},{key:"render",value:function(){return a.createElement("div",null,a.createElement(O,{messages:this.state.messages}),a.createElement(E,{onSendMessage:this.onSendMessage}))}}]),t}(a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"ms-Grid-row"},s.a.createElement("div",{className:"ms-Grid-col ms-sm12"},s.a.createElement(k,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.c83d1376.chunk.js.map