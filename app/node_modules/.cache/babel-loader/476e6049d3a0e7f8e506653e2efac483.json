{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport * as React from 'react';\nimport { BaseComponent, getId, classNamesFunction, mergeAriaAttributeValues } from '../../Utilities';\nimport { Icon } from '../../Icon';\nimport { KeytipData } from '../../KeytipData';\nvar getClassNames = classNamesFunction();\n\nvar CheckboxBase =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(CheckboxBase, _super);\n  /**\r\n   * Initialize a new instance of the Checkbox\r\n   * @param props - Props for the component\r\n   * @param context - Context or initial state for the base component.\r\n   */\n\n\n  function CheckboxBase(props, context) {\n    var _this = _super.call(this, props, context) || this;\n\n    _this._checkBox = React.createRef();\n\n    _this._onFocus = function (ev) {\n      var inputProps = _this.props.inputProps;\n\n      if (inputProps && inputProps.onFocus) {\n        inputProps.onFocus(ev);\n      }\n    };\n\n    _this._onBlur = function (ev) {\n      var inputProps = _this.props.inputProps;\n\n      if (inputProps && inputProps.onBlur) {\n        inputProps.onBlur(ev);\n      }\n    };\n\n    _this._onChange = function (ev) {\n      var _a = _this.props,\n          disabled = _a.disabled,\n          onChange = _a.onChange;\n      var isChecked = _this.state.isChecked;\n\n      if (!disabled) {\n        if (onChange) {\n          onChange(ev, !isChecked);\n        }\n\n        if (_this.props.checked === undefined) {\n          _this.setState({\n            isChecked: !isChecked\n          });\n        }\n      }\n    };\n\n    _this._onRenderLabel = function (props) {\n      var label = props.label;\n      return label ? React.createElement(\"span\", {\n        className: _this._classNames.text\n      }, label) : null;\n    };\n\n    _this._warnMutuallyExclusive({\n      checked: 'defaultChecked'\n    });\n\n    _this._id = _this.props.id || getId('checkbox-');\n    _this.state = {\n      isChecked: !!(props.checked !== undefined ? props.checked : props.defaultChecked)\n    };\n    return _this;\n  }\n\n  CheckboxBase.prototype.componentWillReceiveProps = function (newProps) {\n    if (newProps.checked !== undefined) {\n      this.setState({\n        isChecked: !!newProps.checked // convert null to false\n\n      });\n    }\n  };\n  /**\r\n   * Render the Checkbox based on passed props\r\n   */\n\n\n  CheckboxBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        checked = _a.checked,\n        className = _a.className,\n        defaultChecked = _a.defaultChecked,\n        disabled = _a.disabled,\n        inputProps = _a.inputProps,\n        name = _a.name,\n        boxSide = _a.boxSide,\n        theme = _a.theme,\n        ariaLabel = _a.ariaLabel,\n        ariaLabelledBy = _a.ariaLabelledBy,\n        ariaDescribedBy = _a.ariaDescribedBy,\n        styles = _a.styles,\n        _b = _a.onRenderLabel,\n        onRenderLabel = _b === void 0 ? this._onRenderLabel : _b,\n        checkmarkIconProps = _a.checkmarkIconProps,\n        ariaPositionInSet = _a.ariaPositionInSet,\n        ariaSetSize = _a.ariaSetSize,\n        keytipProps = _a.keytipProps,\n        title = _a.title;\n    var isChecked = checked === undefined ? this.state.isChecked : checked;\n    var isReversed = boxSide !== 'start' ? true : false;\n    this._classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      disabled: disabled,\n      checked: isChecked,\n      reversed: isReversed,\n      isUsingCustomLabelRender: onRenderLabel !== this._onRenderLabel\n    });\n    return React.createElement(KeytipData, {\n      keytipProps: keytipProps,\n      disabled: disabled\n    }, function (keytipAttributes) {\n      return React.createElement(\"div\", {\n        className: _this._classNames.root\n      }, React.createElement(\"input\", tslib_1.__assign({\n        type: \"checkbox\"\n      }, inputProps, {\n        \"data-ktp-execute-target\": keytipAttributes['data-ktp-execute-target']\n      }, checked !== undefined && {\n        checked: checked\n      }, defaultChecked !== undefined && {\n        defaultChecked: defaultChecked\n      }, {\n        disabled: disabled,\n        className: _this._classNames.input,\n        ref: _this._checkBox,\n        name: name,\n        id: _this._id,\n        title: title,\n        onChange: _this._onChange,\n        onFocus: _this._onFocus,\n        onBlur: _this._onBlur,\n        \"aria-disabled\": disabled,\n        \"aria-label\": ariaLabel,\n        \"aria-labelledby\": ariaLabelledBy,\n        \"aria-describedby\": mergeAriaAttributeValues(ariaDescribedBy, keytipAttributes['aria-describedby']),\n        \"aria-posinset\": ariaPositionInSet,\n        \"aria-setsize\": ariaSetSize\n      })), React.createElement(\"label\", {\n        className: _this._classNames.label,\n        htmlFor: _this._id\n      }, React.createElement(\"div\", {\n        className: _this._classNames.checkbox,\n        \"data-ktp-target\": keytipAttributes['data-ktp-target']\n      }, React.createElement(Icon, tslib_1.__assign({\n        iconName: \"CheckMark\"\n      }, checkmarkIconProps, {\n        className: _this._classNames.checkmark\n      }))), onRenderLabel(_this.props, _this._onRenderLabel)));\n    });\n  };\n\n  Object.defineProperty(CheckboxBase.prototype, \"checked\", {\n    get: function get() {\n      return this.state.isChecked;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  CheckboxBase.prototype.focus = function () {\n    if (this._checkBox.current) {\n      this._checkBox.current.focus();\n    }\n  };\n\n  CheckboxBase.defaultProps = {\n    boxSide: 'start'\n  };\n  return CheckboxBase;\n}(BaseComponent);\n\nexport { CheckboxBase };","map":null,"metadata":{},"sourceType":"module"}